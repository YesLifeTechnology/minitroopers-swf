<div class="mx-2 mt-5 w-[214px] border border-[#86623e]">
  <ul
    class="text-textdescription border-2 border-[#e0bd63] bg-[#f2ddb8] text-xs"
  >
    <li
      *ngFor="let history of histories; let isLast = last"
      class="cursor-pointer border-b border-[#e0bd63] p-2 pt-1 hover:bg-[#f8ecd6]"
      [class.border-b-0]="isLast"
      (click)="historyClicked(history)"
    >
      <ng-container [ngSwitch]="history.type">
        <ng-container *ngSwitchCase="'war'">
          <div class="mb-px text-[10px]">{{ history.date }}</div>
          <div class="flex">
            <img
              [src]="
                $any(history).options.result === 'win'
                  ? '/assets/images/bwin.webp'
                  : '/assets/images/defeat.webp'
              "
              alt=""
              class="mr-1 mt-[2px] h-4 w-4"
            />
            <div class="underline">
              <span
                *ngIf="$any(history).result === 'win'"
                class="font-bold text-[#3f8b12]"
                >Victory</span
              >
              <span
                *ngIf="$any(history).result == 'lose'"
                class="font-bold text-[#a9200a]"
                >Defeat</span
              >&nbsp;<span>contre</span>&nbsp;<span class="font-bold"
                >L'armée {{ $any(history)?.options?.enemyName }}</span
              >
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'recruit'">
          <div class="mb-px text-[10px]">{{ history.date }}</div>
          <div class="flex">
            <img src="/assets/images/head.webp" alt="" class="mr-1 h-4 w-4" />
            <div class="underline">
              {{ "Armée recrutée : " + $any(history).options.armyName }}
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'trooperAvailable'">
          <div class="flex">
            <img src="/assets/images/head.webp" alt="" class="mr-1 h-4 w-4" />
            <div class="underline">{{ "Nouvelle recrue disponible" }}</div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'creation'">
          <div class="mb-px text-[10px]">{{ history.date }}</div>
          <div class="flex">
            <img src="/assets/images/head.webp" alt="" class="mr-1 h-4 w-4" />
            <div class="underline">{{ "Armée créée" }}</div>
          </div>
        </ng-container>
      </ng-container>
    </li>
  </ul>
</div>
